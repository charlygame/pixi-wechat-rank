{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.js","webpack:///./libs/adapter/EventTarget.js","webpack:///./libs/adapter/Node.js","webpack:///./libs/adapter/performance.js","webpack:///./libs/adapter/Element.js","webpack:///./libs/adapter/util/index.js","webpack:///./libs/adapter/WindowProperties.js","webpack:///./libs/adapter/HTMLElement.js","webpack:///./libs/adapter/constructor.js","webpack:///./libs/adapter/Image.js","webpack:///./libs/adapter/HTMLMediaElement.js","webpack:///./libs/adapter/HTMLAudioElement.js","webpack:///./libs/adapter/Audio.js","webpack:///./libs/adapter/EventIniter/TouchEvent.js","webpack:///./libs/adapter/document.js","webpack:///./libs/adapter/Canvas.js","webpack:///./libs/adapter/navigator.js","webpack:///./libs/adapter/XMLHttpRequest.js","webpack:///./libs/adapter/WebSocket.js","webpack:///./libs/adapter/FileReader.js","webpack:///./libs/adapter/localStorage.js","webpack:///./libs/adapter/location.js","webpack:///./libs/adapter/window.js","webpack:///./libs/adapter/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","wx","getSystemInfoSync","height","windowHeight","width","windowWidth","PIXI","utils","isWebGLSupported","app","Application","view","canvas","pixelRatio","roundPixels","sharedLoader","sharedTicker","autoResize","antialias","backgroundColor","_events","WeakMap","EventTarget","_classCallCheck","this","set","type","listener","options","arguments","length","undefined","events","push","capture","console","warn","once","passive","listeners","splice","event","Node","_this","Node_classCallCheck","_getPrototypeOf","_assertThisInitialized","node","TypeError","childNodes","copyNode","assign","index","findIndex","child","performance","ELement","Element_classCallCheck","Element_getPrototypeOf","Element_defineProperty","Element_assertThisInitialized","noop","getPerformance","platform","wxPerf","initTime","now","clientPerfAdapter","screenWidth","screenHeight","devicePixelRatio","innerWidth","innerHeight","screen","availWidth","availHeight","ontouchstart","ontouchmove","ontouchend","HTMLElement","tagName","HTMLElement_classCallCheck","HTMLElement_getPrototypeOf","HTMLElement_defineProperty","HTMLElement_assertThisInitialized","concat","toUpperCase","Element","top","left","ret","parseInt","style","fontSize","innerHTML","Number","isNaN","HTMLImageElement","_HTMLElement","constructor_classCallCheck","constructor_possibleConstructorReturn","constructor_getPrototypeOf","constructor_inherits","HTMLCanvasElement","_HTMLElement2","Image","createImage","HTMLMediaElement","HTMLMediaElement_classCallCheck","HTMLMediaElement_possibleConstructorReturn","HTMLMediaElement_getPrototypeOf","HTMLAudioElement","HTMLAudioElement_classCallCheck","HTMLAudioElement_possibleConstructorReturn","HTMLAudioElement_getPrototypeOf","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","_innerAudioContext","_src","Audio","url","Audio_classCallCheck","Audio_getPrototypeOf","Audio_defineProperty","Audio_assertThisInitialized","innerAudioContext","createInnerAudioContext","onCanplay","dispatchEvent","readyState","onPlay","onPause","onEnded","onError","src","play","pause","mediaType","indexOf","newAudio","loop","autoplay","currentTime","seek","paused","TouchEvent","TouchEvent_classCallCheck","TouchEvent_defineProperty","window","touchEventHandlerFactory","touchEvent","touches","targetTouches","Array","slice","changedTouches","timeStamp","document","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","visibilityState","documentElement","hidden","location","head","body","createElement","Canvas","getElementById","id","getElementsByTagName","getElementsByName","querySelector","query","querySelectorAll","addEventListener","removeEventListener","createCanvas","__proto__","getContext","getBoundingClientRect","navigator","language","appVersion","userAgent","onLine","geolocation","getCurrentPosition","watchPosition","clearWatch","_url","_method","_requestHeader","_responseHeader","_requestTask","_triggerEvent","_len","args","_key","apply","_changeReadyState","XMLHttpRequest","XMLHttpRequest_classCallCheck","XMLHttpRequest_defineProperty","content-type","myRequestTask","abort","responseHeader","keys","map","header","join","method","OPENED","data","Error","request","responseType","success","_ref","statusCode","ArrayBuffer","JSON","stringify","e","status","HEADERS_RECEIVED","LOADING","response","responseText","bytes","Uint8Array","len","byteLength","String","fromCharCode","DONE","fail","_ref2","errMsg","myHeader","_socketTask","WebSocket","protocols","WebSocket_classCallCheck","WebSocket_defineProperty","test","CONNECTING","socketTask","connectSocket","isArray","onClose","res","CLOSED","onclose","onMessage","onmessage","onOpen","OPEN","onopen","onerror","code","reason","CLOSING","close","send","FileReader","localStorage","getStorageInfoSync","getItem","getStorageSync","setItem","setStorageSync","removeItem","removeStorageSync","clear","clearStorageSync","href","reload","global","GameGlobal","__isAdapterInjected","_window","descriptor","getOwnPropertyDescriptor","configurable","parent","inject"],"mappings":"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","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nlet {\n    windowHeight: height,\n    windowWidth: width,\n} = wx.getSystemInfoSync()\n\nPIXI.utils.isWebGLSupported = () => true\n\nconst app = new PIXI.Application({\n    view: canvas,\n    width: width * pixelRatio,\n    height: height * pixelRatio,\n    roundPixels: true,\n    sharedLoader: true,\n    sharedTicker: true,\n    autoResize: false,\n    antialias: false,\n    backgroundColor: 0x171a2\n})\n\nexport default app;","const _events = new WeakMap()\n\nclass EventTarget {\n  constructor() {\n    _events.set(this, {})\n  }\n\n  addEventListener(type, listener, options = {}) {\n    let events = _events.get(this)\n\n    if (!events) {\n      events = {}\n      _events.set(this, events)\n    }\n    if (!events[type]) {\n      events[type] = []\n    }\n    events[type].push(listener)\n\n    if (options.capture) {\n      console.warn('EventTarget.addEventListener: options.capture is not implemented.')\n    }\n    if (options.once) {\n      console.warn('EventTarget.addEventListener: options.once is not implemented.')\n    }\n    if (options.passive) {\n      console.warn('EventTarget.addEventListener: options.passive is not implemented.')\n    }\n  }\n\n  removeEventListener(type, listener) {\n    const listeners = _events.get(this)[type]\n\n    if (listeners && listeners.length > 0) {\n      for (let i = listeners.length; i--; i > 0) {\n        if (listeners[i] === listener) {\n          listeners.splice(i, 1)\n          break\n        }\n      }\n    }\n  }\n\n  dispatchEvent(event = {}) {\n    const listeners = _events.get(this)[event.type]\n\n    if (listeners) {\n      for (let i = 0; i < listeners.length; i++) {\n        listeners[i](event)\n      }\n    }\n  }\n}\n\nexport default EventTarget\n","import EventTarget from './EventTarget'\n\nexport default class Node extends EventTarget {\n  constructor() {\n    super()\n  }\n\n  childNodes = []\n\n  appendChild(node) {\n    if (node instanceof Node) {\n      this.childNodes.push(node)\n    } else {\n      throw new TypeError('Failed to executed \\'appendChild\\' on \\'Node\\': parameter 1 is not of type \\'Node\\'.')\n    }\n  }\n\n  cloneNode() {\n    const copyNode = Object.create(this)\n\n    Object.assign(copyNode, this)\n    return copyNode\n  }\n\n  removeChild(node) {\n    const index = this.childNodes.findIndex((child) => child === node)\n\n    if (index > -1) {\n      return this.childNodes.splice(index, 1)\n    }\n    return null\n  }\n}\n","let performance\n\nif (wx.getPerformance) {\n  const { platform } = wx.getSystemInfoSync()\n  const wxPerf = wx.getPerformance()\n  const initTime = wxPerf.now()\n\n  const clientPerfAdapter = Object.assign({}, wxPerf, {\n    now: function() {\n      return (wxPerf.now() - initTime) / 1000\n    }\n  })\n\n  performance = platform === 'devtools' ? wxPerf : clientPerfAdapter\n}\n\nexport default performance\n","import Node from './Node'\n\nexport default class ELement extends Node {\n  className = ''\n  children = []\n\n  constructor() {\n    super()\n  }\n}\n","export function noop() {}\n","const { screenWidth, screenHeight, devicePixelRatio } = wx.getSystemInfoSync()\n\nexport const innerWidth = screenWidth\nexport const innerHeight = screenHeight\nexport { devicePixelRatio }\nexport const screen = {\n  availWidth: innerWidth,\n  availHeight: innerHeight\n}\nexport const ontouchstart = null\nexport const ontouchmove = null\nexport const ontouchend = null\n\nexport performance from './performance'\n","import Element from './Element'\nimport { noop } from './util'\nimport { innerWidth, innerHeight } from './WindowProperties'\n\nexport default class HTMLElement extends Element {\n  className = ''\n  childern = []\n  style = {\n    width: `${innerWidth}px`,\n    height: `${innerHeight}px`\n  }\n\n  insertBefore = noop\n\n  innerHTML = ''\n\n  constructor(tagName = '') {\n    super()\n    this.tagName = tagName.toUpperCase()\n  }\n\n  setAttribute(name, value) {\n    this[name] = value\n  }\n\n  getAttribute(name) {\n    return this[name]\n  }\n\n  get clientWidth() {\n    const ret = parseInt(this.style.fontSize, 10) * this.innerHTML.length\n\n    return Number.isNaN(ret) ? 0 : ret\n  }\n\n  get clientHeight() {\n    const ret = parseInt(this.style.fontSize, 10)\n\n    return Number.isNaN(ret) ? 0 : ret\n  }\n\n  getBoundingClientRect() {\n    return {\n      top: 0,\n      left: 0,\n      width: innerWidth,\n      height: innerHeight\n    }\n  }\n\n  focus() {\n    \n  }\n}\n","import HTMLElement from './HTMLElement'\n\nexport class HTMLImageElement extends HTMLElement {\n  constructor() {\n    super('img')\n  }\n}\n\nexport class HTMLCanvasElement extends HTMLElement {\n  constructor() {\n    super('canvas')\n  }\n}\n","export default function Image() {\n  const image = wx.createImage()\n\n  return image\n}\n","import HTMLElement from './HTMLElement'\n\nexport default class HTMLMediaElement extends HTMLElement {\n  constructor(type) {\n    super(type)\n  }\n\n  addTextTrack() {\n  }\n\n  captureStream() {\n  }\n\n  fastSeek() {\n  }\n\n  load() {\n  }\n\n  pause() {\n  }\n\n  play() {\n  }\n}\n","import HTMLMediaElement from './HTMLMediaElement'\n\nexport default class HTMLAudioElement extends HTMLMediaElement {\n  constructor() {\n    super('audio')\n  }\n}\n","import HTMLAudioElement from './HTMLAudioElement'\n\nconst HAVE_NOTHING = 0\nconst HAVE_METADATA = 1\nconst HAVE_CURRENT_DATA = 2\nconst HAVE_FUTURE_DATA = 3\nconst HAVE_ENOUGH_DATA = 4\n\nconst _innerAudioContext = new WeakMap()\nconst _src = new WeakMap()\nconst _loop = new WeakMap()\nconst _autoplay = new WeakMap()\nexport default class Audio extends HTMLAudioElement {\n  HAVE_NOTHING = HAVE_NOTHING\n  HAVE_METADATA = HAVE_METADATA\n  HAVE_CURRENT_DATA = HAVE_CURRENT_DATA\n  HAVE_FUTURE_DATA = HAVE_FUTURE_DATA\n  HAVE_ENOUGH_DATA = HAVE_ENOUGH_DATA\n  readyState = HAVE_NOTHING\n\n  constructor(url) {\n    super()\n\n    _src.set(this, '')\n\n    const innerAudioContext = wx.createInnerAudioContext()\n\n    _innerAudioContext.set(this, innerAudioContext)\n\n    innerAudioContext.onCanplay(() => {\n      this.dispatchEvent({ type: 'load' })\n      this.dispatchEvent({ type: 'loadend' })\n      this.dispatchEvent({ type: 'canplay'})\n      this.dispatchEvent({ type: 'canplaythrough' })\n      this.dispatchEvent({ type: 'loadedmetadata' })\n      this.readyState = HAVE_CURRENT_DATA\n    })\n    innerAudioContext.onPlay(() => {\n      this.dispatchEvent({ type: 'play' })\n    })\n    innerAudioContext.onPause(() => {\n      this.dispatchEvent({ type: 'pause' })\n    })\n    innerAudioContext.onEnded(() => {\n      this.dispatchEvent({ type: 'ended' })\n      this.readyState = HAVE_ENOUGH_DATA\n    })\n    innerAudioContext.onError(() => {\n      this.dispatchEvent({ type: 'error' })\n    })\n\n    if (url) {\n      _innerAudioContext.get(this).src = url\n    }\n  }\n\n  load() {\n    console.warn('HTMLAudioElement.load() is not implemented.')\n  }\n\n  play() {\n    _innerAudioContext.get(this).play()\n  }\n\n  pause() {\n    _innerAudioContext.get(this).pause()\n  }\n\n  canPlayType(mediaType = '') {\n    if (typeof mediaType !== 'string') {\n      return ''\n    }\n\n    if (mediaType.indexOf('audio/mpeg') > -1 || mediaType.indexOf('audio/mp4')) {\n      return 'probably'\n    }\n    return ''\n  }\n\n  get currentTime() {\n    return _innerAudioContext.get(this).currentTime\n  }\n\n  set currentTime(value) {\n    _innerAudioContext.get(this).seek(value)\n  }\n\n  get src() {\n    return _src.get(this)\n  }\n\n  set src(value) {\n    _src.set(this, value)\n    _innerAudioContext.get(this).src = value\n  }\n\n  get loop() {\n    return _innerAudioContext.get(this).loop\n  }\n\n  set loop(value) {\n    _innerAudioContext.get(this).loop = value\n  }\n\n  get autoplay() {\n    return _innerAudioContext.get(this).autoplay\n  }\n\n  set autoplay(value) {\n    _innerAudioContext.get(this).autoplay = value\n  }\n\n  get paused() {\n    return _innerAudioContext.get(this).paused\n  }\n\n  cloneNode() {\n    const newAudio = new Audio()\n    newAudio.loop = _innerAudioContext.get(this).loop\n    newAudio.autoplay = _innerAudioContext.get(this).autoplay\n    newAudio.src = this.src\n    return newAudio\n  }\n}\n","import * as window from '../window'\nimport document from '../document'\nimport { noop } from '../util/'\n\nclass TouchEvent {\n  target = window.canvas\n  currentTarget = window.canvas\n  touches = []\n  targetTouches = []\n  changedTouches = []\n  preventDefault = noop\n  stopPropagation = noop\n  constructor(type) {\n    this.type = type\n  }\n}\n\nfunction touchEventHandlerFactory(type) {\n  return (event) => {\n    const touchEvent = new TouchEvent(type)\n\n    touchEvent.touches = event.touches\n    touchEvent.targetTouches = Array.prototype.slice.call(event.touches)\n    touchEvent.changedTouches = event.changedTouches\n    touchEvent.timeStamp = event.timeStamp\n    document.dispatchEvent(touchEvent)\n  }\n}\n\nwx.onTouchStart(touchEventHandlerFactory('touchstart'))\nwx.onTouchMove(touchEventHandlerFactory('touchmove'))\nwx.onTouchEnd(touchEventHandlerFactory('touchend'))\nwx.onTouchCancel(touchEventHandlerFactory('touchcancel'))\n","import * as window from './window'\nimport HTMLElement from './HTMLElement'\nimport Image from './Image'\nimport Audio from './Audio'\nimport Canvas from './Canvas'\nimport './EventIniter/'\n\nconst events = {}\n\nconst document = {\n  readyState: 'complete',\n  visibilityState: 'visible',\n  documentElement: window,\n  hidden: false,\n  style: {},\n  location: window.location,\n  ontouchstart: null,\n  ontouchmove: null,\n  ontouchend: null,\n\n  head: new HTMLElement('head'),\n  body: new HTMLElement('body'),\n\n  createElement(tagName) {\n    if (tagName === 'canvas') {\n      return new Canvas()\n    } else if (tagName === 'audio') {\n      return new Audio()\n    } else if (tagName === 'img') {\n      return new Image()\n    }\n\n    return new HTMLElement(tagName)\n  },\n\n  getElementById(id) {\n    if (id === window.canvas.id) {\n      return window.canvas\n    }\n    return null\n  },\n\n  getElementsByTagName(tagName) {\n    if (tagName === 'head') {\n      return [document.head]\n    } else if (tagName === 'body') {\n      return [document.body]\n    } else if (tagName === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  getElementsByName(tagName) {\n    if (tagName === 'head') {\n      return [document.head]\n    } else if (tagName === 'body') {\n      return [document.body]\n    } else if (tagName === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  querySelector(query) {\n    if (query === 'head') {\n      return document.head\n    } else if (query === 'body') {\n      return document.body\n    } else if (query === 'canvas') {\n      return window.canvas\n    } else if (query === `#${window.canvas.id}`) {\n      return window.canvas\n    }\n    return null\n  },\n\n  querySelectorAll(query) {\n    if (query === 'head') {\n      return [document.head]\n    } else if (query === 'body') {\n      return [document.body]\n    } else if (query === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  addEventListener(type, listener) {\n    if (!events[type]) {\n      events[type] = []\n    }\n    events[type].push(listener)\n  },\n\n  removeEventListener(type, listener) {\n    const listeners = events[type]\n\n    if (listeners && listeners.length > 0) {\n      for (let i = listeners.length; i--; i > 0) {\n        if (listeners[i] === listener) {\n          listeners.splice(i, 1)\n          break\n        }\n      }\n    }\n  },\n\n  dispatchEvent(event) {\n    const listeners = events[event.type]\n\n    if (listeners) {\n      for (let i = 0; i < listeners.length; i++) {\n        listeners[i](event)\n      }\n    }\n  }\n}\n\nexport default document\n","import { HTMLCanvasElement, CanvasRenderingContext2D, WebGLRenderingContext } from './constructor'\nimport HTMLElement from './HTMLElement'\nimport document from './document'\n\nlet hasModifiedCanvasPrototype = false\nlet hasInit2DContextConstructor = false\nlet hasInitWebGLContextConstructor = false\n\nexport default function Canvas() {\n  const canvas = wx.createCanvas()\n\n  canvas.type = 'canvas'\n\n  canvas.__proto__.__proto__ = new HTMLElement('canvas')\n\n  const _getContext = canvas.getContext\n\n  canvas.getBoundingClientRect = () => {\n    const ret = {\n      top: 0,\n      left: 0,\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n    return ret\n  }\n\n  return canvas\n}\n","import { noop } from './util'\n\n// TODO 需要 wx.getSystemInfo 获取更详细信息\nconst { platform } = wx.getSystemInfoSync()\nconst navigator = {\n  platform,\n  language: 'zh-cn',\n  appVersion: '5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1',\n  userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN',\n  onLine: true, // TODO 用 wx.getNetworkStateChange 和 wx.onNetworkStateChange 来返回真实的状态\n\n  // TODO 用 wx.getLocation 来封装 geolocation\n  geolocation: {\n    getCurrentPosition: noop,\n    watchPosition: noop,\n    clearWatch: noop\n  }\n}\n\nexport default navigator\n","const _url = new WeakMap()\nconst _method = new WeakMap()\nconst _requestHeader = new WeakMap()\nconst _responseHeader = new WeakMap()\nconst _requestTask = new WeakMap()\n\nfunction _triggerEvent(type, ...args) {\n  if (typeof this[`on${type}`] === 'function') {\n    this[`on${type}`].apply(this, args)\n  }\n}\n\nfunction _changeReadyState(readyState) {\n  this.readyState = readyState\n  _triggerEvent.call(this, 'readystatechange')\n}\n\nexport default class XMLHttpRequest {\n  // TODO 没法模拟 HEADERS_RECEIVED 和 LOADING 两个状态\n  static UNSEND = 0\n  static OPENED = 1\n  static HEADERS_RECEIVED = 2\n  static LOADING = 3\n  static DONE = 4\n\n  /*\n   * TODO 这一批事件应该是在 XMLHttpRequestEventTarget.prototype 上面的\n   */\n  onabort = null\n  onerror = null\n  onload = null\n  onloadstart = null\n  onprogress = null\n  ontimeout = null\n  onloadend = null\n\n  onreadystatechange = null\n  readyState = 0\n  response = null\n  responseText = null\n  responseType = ''\n  responseXML = null\n  status = 0\n  statusText = ''\n  upload = {}\n  withCredentials = false\n\n  constructor() {\n    _requestHeader.set(this, {\n      'content-type': 'application/x-www-form-urlencoded'\n    })\n    _responseHeader.set(this, {})\n  }\n\n  abort() {\n    const myRequestTask =  _requestTask.get(this)\n\n    if (myRequestTask) {\n      myRequestTask.abort()\n    }\n  }\n\n  getAllResponseHeaders() {\n    const responseHeader = _responseHeader.get(this)\n\n    return Object.keys(responseHeader).map((header) => {\n      return `${header}: ${responseHeader[header]}`\n    }).join('\\n')\n  }\n\n  getResponseHeader(header) {\n    return _responseHeader.get(this)[header]\n  }\n\n  open(method, url/* async, user, password 这几个参数在小程序内不支持*/) {\n    _method.set(this, method)\n    _url.set(this, url)\n    _changeReadyState.call(this, XMLHttpRequest.OPENED)\n  }\n\n  overrideMimeType() {\n  }\n\n  send(data = '') {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new Error(\"Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.\")\n    } else {\n      wx.request({\n        data,\n        url: _url.get(this),\n        method: _method.get(this),\n        header: _requestHeader.get(this),\n        responseType: this.responseType,\n        success: ({ data, statusCode, header }) => {\n          if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n            try {\n              data = JSON.stringify(data)\n            } catch (e) {\n              data = data\n            }\n          }\n\n          this.status = statusCode\n          _responseHeader.set(this, header)\n          _triggerEvent.call(this, 'loadstart')\n          _changeReadyState.call(this, XMLHttpRequest.HEADERS_RECEIVED)\n          _changeReadyState.call(this, XMLHttpRequest.LOADING)\n\n          this.response = data\n\n          if (data instanceof ArrayBuffer) {\n            this.responseText = ''\n            const bytes = new Uint8Array(data)\n            const len = bytes.byteLength\n\n            for (let i = 0; i < len; i++) {\n              this.responseText += String.fromCharCode(bytes[i])\n            }\n          } else {\n            this.responseText = data\n          }\n          _changeReadyState.call(this, XMLHttpRequest.DONE)\n          _triggerEvent.call(this, 'load')\n          _triggerEvent.call(this, 'loadend')\n        },\n        fail: ({ errMsg }) => {\n          // TODO 规范错误\n          if (errMsg.indexOf('abort') !== -1) {\n            _triggerEvent.call(this, 'abort')\n          } else {\n            _triggerEvent.call(this, 'error', errMsg)\n          }\n          _triggerEvent.call(this, 'loadend')\n        }\n      })\n    }\n  }\n\n  setRequestHeader(header, value) {\n    const myHeader = _requestHeader.get(this)\n\n    myHeader[header] = value\n    _requestHeader.set(this, myHeader)\n  }\n}\n","const _socketTask = new WeakMap()\n\nclass WebSocket {\n  static CONNECTING = 0 // The connection is not yet open.\n  static OPEN = 1 // The connection is open and ready to communicate.\n  static CLOSING = 2 // The connection is in the process of closing.\n  static CLOSED = 3 // The connection is closed or couldn't be opened.\n\n  binaryType = '' // TODO 更新 binaryType\n  bufferedAmount = 0 // TODO 更新 bufferedAmount\n  extensions = ''\n\n  onclose = null\n  onerror = null\n  onmessage = null\n  onopen = null\n\n  protocol = '' // TODO 小程序内目前获取不到，实际上需要根据服务器选择的 sub-protocol 返回\n  readyState = 3\n\n  constructor(url, protocols = []) {\n    if (typeof url !== 'string' || !(/(^ws:\\/\\/)|(^wss:\\/\\/)/).test(url)) {\n      throw new TypeError(`Failed to construct 'WebSocket': The URL '${url}' is invalid`)\n    }\n\n    this.url = url\n    this.readyState = WebSocket.CONNECTING\n\n    const socketTask = wx.connectSocket({\n      url,\n      protocols: Array.isArray(protocols) ? protocols : [protocols]\n    })\n\n    _socketTask.set(this, socketTask)\n\n    socketTask.onClose((res) => {\n      this.readyState = WebSocket.CLOSED\n      if (typeof this.onclose === 'function') {\n        this.onclose(res)\n      }\n    })\n\n    socketTask.onMessage((res) => {\n      if (typeof this.onmessage === 'function') {\n        this.onmessage(res)\n      }\n    })\n\n    socketTask.onOpen(() => {\n      this.readyState = WebSocket.OPEN\n      if (typeof this.onopen === 'function') {\n        this.onopen()\n      }\n    })\n\n    socketTask.onError((res) => {\n      if (typeof this.onerror === 'function') {\n        this.onerror(new Error(res.errMsg))\n      }\n    })\n\n    return this\n  }\n\n  close(code, reason) {\n    this.readyState = WebSocket.CLOSING\n    const socketTask = _socketTask.get(this)\n\n    socketTask.close({\n      code,\n      reason\n    })\n  }\n\n  send(data) {\n    if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n      throw new TypeError(`Failed to send message: The data ${data} is invalid`)\n    }\n\n    const socketTask = _socketTask.get(this)\n\n    socketTask.send({\n      data\n    })\n  }\n}\n\nexport default WebSocket\n","/*\n * TODO 使用 wx.readFile 来封装 FileReader\n */\nexport default class FileReader {\n  construct() {\n  }\n}\n","const localStorage = {\n  get length() {\n    const { keys } = wx.getStorageInfoSync()\n\n    return keys.length\n  },\n\n  key(n) {\n    const { keys } = wx.getStorageInfoSync()\n\n    return keys[n]\n  },\n\n  getItem(key) {\n    return wx.getStorageSync(key)\n  },\n\n  setItem(key, value) {\n    return wx.setStorageSync(key, value)\n  },\n\n  removeItem(key) {\n    wx.removeStorageSync(key)\n  },\n\n  clear() {\n    wx.clearStorageSync()\n  }\n}\n\nexport default localStorage\n","const location = {\n  href: 'game.js',\n  reload() {\n  }\n}\n\nexport default location\n","import Canvas from './Canvas'\n\nexport document from './document'\nexport navigator from './navigator'\nexport XMLHttpRequest from './XMLHttpRequest'\nexport WebSocket from './WebSocket'\nexport Image from './Image'\nexport Audio from './Audio'\nexport FileReader from './FileReader'\nexport HTMLElement from './HTMLElement'\nexport localStorage from './localStorage'\nexport location from './location'\nexport * from './WindowProperties'\nexport * from './constructor'\n\n// 暴露全局的 canvas\nconst canvas = new Canvas()\n\nexport { canvas }\n// export { setTimeout }\n// export { setInterval }\n// export { clearTimeout }\n// export { clearInterval }\n// export { requestAnimationFrame }\n// export { cancelAnimationFrame }\n","import * as _window from './window'\nimport HTMLElement from './HTMLElement'\n\nconst global = GameGlobal\n\nfunction inject () {\n  _window.addEventListener = (type, listener) => {\n    _window.document.addEventListener(type, listener)\n  }\n  _window.removeEventListener = (type, listener) => {\n    _window.document.removeEventListener(type, listener)\n  }\n\n  if (_window.canvas) {\n    _window.canvas.addEventListener = _window.addEventListener\n    _window.canvas.removeEventListener = _window.removeEventListener\n  }\n\n  const { platform } = wx.getSystemInfoSync()\n\n  // 开发者工具无法重定义 window\n  if (platform === 'devtools') {\n    for (const key in _window) {\n      const descriptor = Object.getOwnPropertyDescriptor(global, key)\n\n      if (!descriptor || descriptor.configurable === true) {\n        Object.defineProperty(window, key, {\n          value: _window[key]\n        })\n      }\n    }\n\n    for (const key in _window.document) {\n      const descriptor = Object.getOwnPropertyDescriptor(global.document, key)\n\n      if (!descriptor || descriptor.configurable === true) {\n        Object.defineProperty(global.document, key, {\n          value: _window.document[key]\n        })\n      }\n    }\n    window.parent = window\n  } else {\n    for (const key in _window) {\n      global[key] = _window[key]\n    }\n    global.window = _window\n    window = global\n    window.top = window.parent = window\n  }\n}\n\nif (!GameGlobal.__isAdapterInjected) {\n  GameGlobal.__isAdapterInjected = true\n  inject()\n}\n"],"sourceRoot":""}